<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Chatbox An ToÃ n Online</title>
<style>
body{margin:0;font-family:Arial;background:#fff7e1}
#app{max-width:480px;margin:0 auto;height:100vh;display:flex;flex-direction:column;background:#fff}
header{background:#ffce8c;padding:14px;text-align:center;font-weight:700}
#messages{flex:1;overflow:auto;padding:14px}
.msg{max-width:80%;margin-bottom:10px;padding:10px;border-radius:10px}
.bot{background:#ffe5b4;align-self:flex-start}
.user{background:#fff3d1;align-self:flex-end}
#input{display:flex;padding:10px;gap:8px;border-top:1px solid #eee;background:#fafafa}
#text{flex:1;padding:10px;border-radius:6px;border:1px solid #ccc}
button{background:#d48806;color:#fff;border:none;padding:10px 14px;border-radius:6px}
.meta{font-size:12px;color:#666;margin-top:6px;text-align:center}
.severity{display:inline-block;padding:6px 8px;border-radius:6px;font-weight:700;margin-left:8px}
.s1{background:#e7f7e7;color:#0a7a4a}
.s2{background:#fff6e0;color:#b36b00}
.s3{background:#ffe6d6;color:#b35200}
.s4{background:#ffd6d6;color:#a10f0f}
.scenario{background:#fff0d9;padding:10px;border-radius:8px;margin-bottom:10px;font-weight:600}
</style>
</head>
<body>
<div id="app">
<header>ğŸ›¡ï¸ Chatbox An ToÃ n Online â€” ThÃ¢n thiá»‡n</header>
<div id="messages">
  <div class="msg bot">ChÃ o báº¡n ğŸ‘‹! Báº¥m ğŸ² Ä‘á»ƒ táº¡o tÃ¬nh huá»‘ng luyá»‡n pháº£n xáº¡, hoáº·c nháº­p tin nháº¯n mÃ  em nghi ngá».</div>
</div>
<div class="meta">PhiÃªn báº£n thÃ¢n thiá»‡n â€” há»‡ thá»‘ng tráº£ lá»i nhiá»u phÆ°Æ¡ng Ã¡n vÃ  Ä‘Æ°a má»©c Ä‘á»™ nguy hiá»ƒm.</div>
<div id="input">
  <button onclick="randomScenario()" title="Táº¡o tÃ¬nh huá»‘ng ngáº«u nhiÃªn">ğŸ²</button>
  <input id="text" type="text" placeholder="Nháº­p tin nháº¯n hoáº·c tráº£ lá»i tÃ¬nh huá»‘ng..." />
  <button onclick="send()">Gá»­i</button>
</div>
</div>

<script>
const GROUPS = [{"id": 1, "name": "Xin áº£nh / video / camera", "severity": 4, "keywords": ["áº£nh", "hÃ¬nh", "máº·t má»™c", "gá»­i áº£nh", "gá»­i hÃ¬nh", "camera", "cam", "video call", "báº­t cam", "quay em", "clip", "video"], "friendly_replies": ["Ã”i khÃ´ng nha â€” yÃªu cáº§u gá»­i áº£nh riÃªng tÆ° lÃ  nguy hiá»ƒm. Äá»«ng gá»­i nhÃ©!", "Äá»«ng báº­t cam hay gá»­i hÃ¬nh cho ngÆ°á»i láº¡. Giá»¯ an toÃ n cho báº£n thÃ¢n.", "Náº¿u ai Ã©p gá»­i áº£nh, em cháº·n vÃ  bÃ¡o ngay ngÆ°á»i lá»›n hoáº·c tháº§y cÃ´."], "preventions": ["KhÃ´ng gá»­i áº£nh/video riÃªng tÆ° cho ngÆ°á»i láº¡.", "KhÃ´ng báº­t camera cho ngÆ°á»i khÃ´ng tin tÆ°á»Ÿng.", "LÆ°u báº±ng chá»©ng vÃ  bÃ¡o giÃ¡o viÃªn/phá»¥ huynh náº¿u bá»‹ Ã©p."]}, {"id": 2, "name": "Xin vá»‹ trÃ­ / Ä‘á»‹nh vá»‹", "severity": 4, "keywords": ["vá»‹ trÃ­", "Ä‘á»‹nh vá»‹", "gps", "location", "live location", "báº­t Ä‘á»‹nh vá»‹", "share location", "vá»‹ trÃ­ em", "gá»­i location"], "friendly_replies": ["KhÃ´ng chia sáº» vá»‹ trÃ­ nha â€” Ä‘Ã³ lÃ  dáº¥u hiá»‡u nguy hiá»ƒm.", "Táº¯t chia sáº» vá»‹ trÃ­ vÃ  nÃ³i vá»›i ngÆ°á»i lá»›n náº¿u ai Ä‘Ã³ há»i em mÃ£i.", "Náº¿u há» cá»‘ Ã©p Ä‘á»‹nh vá»‹, cháº·n vÃ  bÃ¡o tháº§y cÃ´ ngay."], "preventions": ["KhÃ´ng chia sáº» vá»‹ trÃ­ tháº­t thá»i gian thá»±c vá»›i ngÆ°á»i láº¡.", "Táº¯t dá»‹ch vá»¥ chia sáº» vá»‹ trÃ­ náº¿u khÃ´ng cáº§n thiáº¿t.", "DÃ¹ng tÃ­nh nÄƒng cháº·n/áº©n khi bá»‹ lÃ m phiá»n."]}, {"id": 3, "name": "Dá»¥ gáº·p máº·t", "severity": 4, "keywords": ["ra cá»•ng", "ra Ä‘Ã¢y", "gáº·p anh", "gáº·p em", "ra ngoÃ i", "ra trÆ°á»ng", "ra cá»•ng trÆ°á»ng", "ra nháº­n", "ra láº¥y", "gáº·p riÃªng", "Ä‘á»£i em", "anh Ä‘á»£i"], "friendly_replies": ["KhÃ´ng Ä‘i gáº·p ngÆ°á»i quen trÃªn máº¡ng nhÃ© â€” an toÃ n quan trá»ng hÆ¡n.", "Náº¿u ai háº¹n gáº·p, em nÃ³i vá»›i phá»¥ huynh hoáº·c tháº§y cÃ´ trÆ°á»›c.", "Äá»«ng Ä‘i má»™t mÃ¬nh, nháº¥t lÃ  tá»›i chá»— váº¯ng."], "preventions": ["KhÃ´ng gáº·p ngÆ°á»i quen online má»™t mÃ¬nh.", "LuÃ´n bÃ¡o ngÆ°á»i lá»›n vÃ  gáº·p á»Ÿ nÆ¡i cÃ´ng cá»™ng, cÃ³ ngÆ°á»i lá»›n Ä‘i cÃ¹ng.", "YÃªu cáº§u xÃ¡c minh danh tÃ­nh qua Ä‘iá»‡n thoáº¡i cá»§a ngÆ°á»i thÃ¢n."]}, {"id": 4, "name": "Giáº£ danh (giÃ¡o viÃªn, cÃ´ng an, báº¡n há»c)", "severity": 3, "keywords": ["cÃ´ chá»§ nhiá»‡m", "tháº§y", "cÃ´", "cÃ´ng an", "sá»Ÿ gd", "ngÃ¢n hÃ ng", "phá»¥ huynh", "báº¡n cÅ©", "báº¡n cáº¥p 1", "giÃ¡o viÃªn", "Ä‘iá»ƒm danh"], "friendly_replies": ["Cáº©n tháº­n nha â€” ráº¥t nhiá»u ngÆ°á»i giáº£ danh. Em xÃ¡c minh qua kÃªnh chÃ­nh thá»©c Ä‘i.", "CÃ´ng an/giÃ¡o viÃªn khÃ´ng lÃ m viá»‡c kiá»ƒu nÃ y qua chat, em gá»i sá»‘ chÃ­nh thá»©c Ä‘á»ƒ kiá»ƒm tra.", "Äá»«ng gá»­i CCCD hay OTP cho ai tá»± xÆ°ng lÃ  cÆ¡ quan."], "preventions": ["XÃ¡c minh danh tÃ­nh báº±ng cuá»™c gá»i tá»›i sá»‘ chÃ­nh thá»©c.", "KhÃ´ng gá»­i thÃ´ng tin cÃ¡ nhÃ¢n qua chat.", "Kiá»ƒm tra trÃªn nhÃ³m lá»›p hoáº·c liÃªn há»‡ nhÃ  trÆ°á»ng."]}, {"id": 5, "name": "Äe dá»a / tá»‘ng tiá»n", "severity": 4, "keywords": ["tung áº£nh", "Ä‘Äƒng lÃªn", "tá»‘ng tiá»n", "khÃ´ng há»£p tÃ¡c", "biáº¿t nhÃ  m", "Ä‘e dá»a", "chuyá»ƒn tiá»n", "Ä‘Ã²i tiá»n"], "friendly_replies": ["BÃ¬nh tÄ©nh Ä‘Ã£ â€” tá»‘ng tiá»n lÃ  hÃ nh vi xáº¥u. Äá»«ng chuyá»ƒn tiá»n!", "LÆ°u láº¡i tin nháº¯n vÃ  bÃ¡o ngay phá»¥ huynh hoáº·c tháº§y cÃ´.", "Náº¿u há» Ä‘e dá»a, cháº·n vÃ  bÃ¡o cÃ´ng an/nhÃ  trÆ°á»ng."], "preventions": ["KhÃ´ng chuyá»ƒn tiá»n hay lÃ m theo yÃªu cáº§u cá»§a káº» xáº¥u.", "LÆ°u báº±ng chá»©ng, chá»¥p mÃ n hÃ¬nh má»i tin nháº¯n.", "LiÃªn há»‡ ngÆ°á»i lá»›n vÃ  cÆ¡ quan chá»©c nÄƒng khi cáº§n."]}, {"id": 6, "name": "Há»c bá»•ng / viá»‡c lÃ m / casting", "severity": 3, "keywords": ["há»c bá»•ng", "viá»‡c lÃ m", "casting", "máº«u", "chá»¥p hÃ¬nh", "lÆ°Æ¡ng cao", "Ä‘Ã³ng phÃ­", "phÃ­ xÃ¡c nháº­n", "cá»™ng tÃ¡c viÃªn"], "friendly_replies": ["Cáº©n tháº­n vá»›i viá»‡c lÃ m nháº­n tiá»n trÆ°á»›c â€” thÆ°á»ng lÃ  báº«y.", "Há»c bá»•ng khÃ´ng thu phÃ­ xÃ¡c nháº­n Ä‘Ã¢u, em kiá»ƒm tra thÃ´ng tin chÃ­nh thá»©c.", "Äá»«ng gá»­i giáº¥y tá» hay áº£nh cho ngÆ°á»i láº¡ Ä‘á»ƒ nháº­n viá»‡c."], "preventions": ["KhÃ´ng ná»™p phÃ­ Ä‘á»ƒ nháº­n há»c bá»•ng hay viá»‡c.", "YÃªu cáº§u thÃ´ng tin chÃ­nh thá»©c vÃ  tham kháº£o nhÃ  trÆ°á»ng.", "KhÃ´ng gá»­i CCCD/áº£nh cho ngÆ°á»i tuyá»ƒn qua máº¡ng."]}, {"id": 7, "name": "QuÃ  táº·ng / shipper / nháº­n hÃ ng", "severity": 3, "keywords": ["shipper", "nháº­n quÃ ", "gÃ³i hÃ ng", "bÆ°u pháº©m", "ra láº¥y", "quÃ  miá»…n phÃ­", "ship"], "friendly_replies": ["Äá»«ng ra khá»i trÆ°á»ng Ä‘á»ƒ nháº­n hÃ ng tá»« ngÆ°á»i láº¡ nhÃ©.", "Há»i báº£o vá»‡ hoáº·c phá»¥ huynh trÆ°á»›c khi ra nháº­n Ä‘á»“.", "Náº¿u há» Ä‘á»©ng chá», nÃ³i vá»›i báº£o vá»‡ ngay."], "preventions": ["KhÃ´ng nháº­n quÃ  trá»±c tiáº¿p tá»« ngÆ°á»i láº¡.", "LuÃ´n nháº­n hÃ ng táº¡i Ä‘á»‹a Ä‘iá»ƒm an toÃ n cÃ³ báº£o vá»‡.", "XÃ¡c minh nguá»“n gÃ³i hÃ ng vá»›i ngÆ°á»i gá»­i."]}, {"id": 8, "name": "VÃ©t thÃ´ng tin cÃ¡ nhÃ¢n", "severity": 3, "keywords": ["cccd", "sá»‘ phá»¥ huynh", "Ä‘á»‹a chá»‰", "lá»›p máº¥y", "tÃªn bá»‘ máº¹", "sá»‘ nhÃ ", "Ä‘á»‹a chá»‰ nhÃ "], "friendly_replies": ["KhÃ´ng chia sáº» thÃ´ng tin cÃ¡ nhÃ¢n qua chat nhÃ©.", "Há»i lÃ½ do rÃµ rÃ ng vÃ  xÃ¡c minh náº¿u cáº§n.", "Náº¿u ai yÃªu cáº§u CCCD hay thÃ´ng tin nháº¡y cáº£m, em tá»« chá»‘i."], "preventions": ["KhÃ´ng cung cáº¥p giáº¥y tá» tÃ¹y thÃ¢n hoáº·c sá»‘ Ä‘iá»‡n thoáº¡i ngÆ°á»i nhÃ .", "XÃ¡c minh danh tÃ­nh khi Ä‘Æ°á»£c yÃªu cáº§u thÃ´ng tin.", "BÃ¡o nhÃ  trÆ°á»ng náº¿u ai Ä‘Ã³ há»i thÃ´ng tin quÃ¡ nhiá»u."]}, {"id": 9, "name": "Deepfake / giá»ng gá»i giáº£ / video giáº£", "severity": 4, "keywords": ["deepfake", "giá»ng giá»‘ng", "gá»i gáº¥p", "video cá»§a em", "clip nháº¡y", "camera bÃ­ máº­t", "quay lÃ©n"], "friendly_replies": ["Äá»«ng tin ngay video hoáº·c cuá»™c gá»i láº¡ â€” ráº¥t cÃ³ thá»ƒ lÃ  giáº£ máº¡o.", "Gá»i láº¡i ngÆ°á»i thÃ¢n báº±ng sá»‘ chÃ­nh thá»©c Ä‘á»ƒ xÃ¡c minh.", "LÆ°u báº±ng chá»©ng vÃ  há»i Ã½ kiáº¿n ngÆ°á»i lá»›n."], "preventions": ["KhÃ´ng hÃ nh Ä‘á»™ng ngay theo video/giá»ng gá»i báº¥t thÆ°á»ng.", "XÃ¡c minh báº±ng cuá»™c gá»i Ä‘áº¿n sá»‘ quen thuá»™c.", "BÃ¡o cho ngÆ°á»i lá»›n náº¿u bá»‹ táº¥n cÃ´ng báº±ng deepfake."]}, {"id": 10, "name": "Thao tÃºng cáº£m xÃºc", "severity": 3, "keywords": ["anh buá»“n", "chá»‰ cÃ³ em", "Ä‘á»«ng bá» anh", "giÃºp anh", "anh cÃ´ Ä‘Æ¡n", "anh cáº§n em"], "friendly_replies": ["Nhá»¯ng cÃ¢u kiá»ƒu nÃ y thÆ°á»ng lÃ  thao tÃºng cáº£m xÃºc, cáº©n tháº­n nha.", "Äá»«ng Ä‘á»ƒ ná»‹nh lá»i mÃ  vá»™i vÃ ng lÃ m theo há».", "NÃ³i chuyá»‡n vá»›i ngÆ°á»i tin cáº­y trÆ°á»›c khi quyáº¿t Ä‘á»‹nh."], "preventions": ["Nháº­n diá»‡n dáº¥u hiá»‡u thao tÃºng cáº£m xÃºc.", "Tham kháº£o Ã½ kiáº¿n ngÆ°á»i lá»›n, báº¡n bÃ¨ Ä‘Ã¡ng tin.", "KhÃ´ng ra gáº·p hoáº·c gá»­i thÃ´ng tin vÃ¬ lÃ½ do tÃ¬nh cáº£m."]}, {"id": 11, "name": "Kháº©n cáº¥p giáº£ (tai náº¡n, ngÆ°á»i thÃ¢n)", "severity": 4, "keywords": ["tai náº¡n", "cáº¥p cá»©u", "ba máº¹ bá»‹", "gáº·p chuyá»‡n", "gáº¥p", "cá»©u giÃºp", "nhanh lÃªn", "ra ngay"], "friendly_replies": ["BÃ¬nh tÄ©nh! Gá»i trá»±c tiáº¿p ngÆ°á»i thÃ¢n Ä‘á»ƒ kiá»ƒm tra thÃ´ng tin nha.", "KhÃ´ng di chuyá»ƒn theo yÃªu cáº§u trÆ°á»›c khi xÃ¡c minh.", "YÃªu cáº§u há» cung cáº¥p báº±ng chá»©ng chÃ­nh thá»©c náº¿u thá»±c sá»± kháº©n."], "preventions": ["Gá»i sá»‘ ngÆ°á»i thÃ¢n Ä‘á»ƒ xÃ¡c minh thÃ´ng tin.", "KhÃ´ng rá»i khá»i nÆ¡i an toÃ n khi Ä‘ang hoáº£ng loáº¡n.", "BÃ¡o cho ngÆ°á»i lá»›n vÃ  nhÃ  trÆ°á»ng náº¿u cáº§n."]}, {"id": 12, "name": "Rá»§ Ä‘i nÆ¡i váº¯ng / Ä‘Æ°á»ng táº¯t", "severity": 4, "keywords": ["chá»— váº¯ng", "sau trÆ°á»ng", "háº»m", "lá»‘i táº¯t", "gáº·p riÃªng", "Ä‘i má»™t mÃ¬nh", "Ä‘i lá»‘i nÃ y"], "friendly_replies": ["Chá»— váº¯ng lÃ  khÃ´ng an toÃ n â€” Ä‘á»«ng Ä‘i theo nha!", "Náº¿u ai rá»§ Ä‘i lá»‘i váº¯ng, tá»« chá»‘i vÃ  tÃ¬m chá»— Ä‘Ã´ng ngÆ°á»i.", "BÃ¡o ngay cho báº¡n bÃ¨ hoáº·c ngÆ°á»i lá»›n náº¿u bá»‹ Ã©p."], "preventions": ["KhÃ´ng Ä‘i theo ngÆ°á»i láº¡ vÃ o khu vá»±c váº¯ng váº».", "LuÃ´n á»Ÿ nÆ¡i cÃ³ ngÆ°á»i vÃ  cÃ³ báº£o vá»‡ khi cáº§n.", "Gá»i ngÆ°á»i thÃ¢n hoáº·c báº£o vá»‡ náº¿u cáº£m tháº¥y bá»‹ Ä‘e dá»a."]}];

// Utility: find group matches by keyword
function analyzeText(text){
  const t = text.toLowerCase();
  let matches = [];
  for(const g of GROUPS){
    for(const kw of g.keywords){
      if(t.includes(kw)){
        matches.push(g);
        break;
      }
    }
  }
  return matches;
}

function severityLabel(sev){
  if(sev>=4) return {label:"Ráº¥t cao", cls:"s4"};
  if(sev==3) return {label:"Cao", cls:"s3"};
  if(sev==2) return {label:"Trung bÃ¬nh", cls:"s2"};
  return {label:"Tháº¥p", cls:"s1"};
}

const SCENARIOS = [
  "Anh Ä‘á»©ng ngoÃ i cá»•ng, ra gáº·p anh 5 phÃºt thÃ´i.",
  "Em gá»­i áº£nh máº·t má»™c Ä‘á»ƒ nháº­n quÃ  nha.",
  "Báº¥m link nÃ y Ä‘á»ƒ xem ai nÃ³i xáº¥u em.",
  "Náº¡p há»™ anh 100K, anh chuyá»ƒn láº¡i 300K.",
  "Anh lÃ  nhÃ¢n viÃªn ngÃ¢n hÃ ng, tÃ i khoáº£n em Ä‘ang bá»‹ hack.",
  "CÃ´ chá»§ nhiá»‡m báº£o em gá»­i CCCD Ä‘á»ƒ Ä‘iá»ƒm danh.",
  "Em dÃ­nh vÃ o vá»¥, cung cáº¥p OTP ngay!",
  "Em trÃºng sá»± kiá»‡n rá»“i, vÃ o link nháº­n quÃ .",
  "Ra quÃ¡n net gáº§n trÆ°á»ng Ä‘i, anh chá» nÃ¨.",
  "Gá»­i giá»ng nÃ³i Ä‘á»ƒ xÃ¡c minh tÃ i khoáº£n.",
  "Cho t xin sá»‘ phá»¥ huynh m, gáº¥p!",
  "Anh cÃ³ clip cá»§a em rá»“i, chuyá»ƒn tiá»n náº¿u khÃ´ng muá»‘n Ä‘Äƒng.",
  "Em Ä‘Æ°á»£c chá»n há»c bá»•ng 100% nhÆ°ng cáº§n Ä‘Ã³ng phÃ­ xÃ¡c nháº­n 300K.",
  "Anh Ä‘ang chá» trÆ°á»›c cá»•ng trÆ°á»ng, ra láº¥y trÃ  sá»¯a nhÃ©.",
  "File nÃ y cÃ³ Ä‘iá»ƒm cá»§a lá»›p mÃ¬nh, má»Ÿ ra xem nhanh."
];

function addMsg(text, cls){
  const box = document.getElementById("messages");
  const d = document.createElement("div");
  d.className = "msg " + cls;
  d.textContent = text;
  box.appendChild(d);
  box.scrollTop = box.scrollHeight;
}

function randomScenario(){
  const s = SCENARIOS[Math.floor(Math.random()*SCENARIOS.length)];
  addMsg("ğŸ² TÃ¬nh huá»‘ng: " + s, "bot");
  const matches = analyzeText(s);
  if(matches.length){
    const g = matches[0];
    const sev = severityLabel(g.severity);
    addMsg("ğŸ” NhÃ³m: " + g.name + " â€” Má»©c nguy hiá»ƒm: " + sev.label, "bot");
    addMsg("ğŸ’¡ Gá»£i Ã½ phÃ²ng trÃ¡nh: " + g.preventions.join(" / "), "bot");
  }
}

function send(){
  const input = document.getElementById("text");
  const text = input.value.trim();
  if(!text) return;
  addMsg(text, "user");
  input.value = "";
  const matches = analyzeText(text);
  if(matches.length==0){
    addMsg("ğŸ¤” MÃ¬nh chÆ°a phÃ¡t hiá»‡n tá»« khÃ³a nguy hiá»ƒm rÃµ rÃ ng. Náº¿u báº¡n lo láº¯ng, mÃ´ táº£ thÃªm hoáº·c há»i ngÆ°á»i lá»›n nhÃ©.", "bot");
    return;
  }
  let best = matches.reduce((a,b)=> a.severity>=b.severity? a : b);
  const sev = severityLabel(best.severity);
  const reply = best.friendly_replies[Math.floor(Math.random()*best.friendly_replies.length)];
  addMsg("ğŸ” NhÃ³m: " + best.name + " â€” Má»©c nguy hiá»ƒm: " + sev.label + " (" + best.severity + "/4)", "bot");
  addMsg(reply, "bot");
  for(const p of best.preventions){
    addMsg("â€¢ " + p, "bot");
  }
}
</script>
</body>
</html>
